
//typedef ap_fixed<20,10,AP_RND,AP_SAT> ap_f;
//typedef float ap_f;
//typedef ap_fixed<20,10> ap_f;
//typedef ap_fixed<19,9> ap_f;

//typedef ap_fixed<17,7> ap_f;
//typedef ap_fixed<15,5> ap_f;
//typedef ap_fixed<14,4> ap_f;
//typedef ap_fixed<13,3> ap_f;
//typedef ap_fixed<12,2> ap_f;
//typedef ap_fixed<11,1> ap_f;
//typedef ap_fixed<10,0> ap_f;
//typedef ap_fixed<13,4> ap_f;
//typedef ap_fixed<12,4> ap_f;
//typedef ap_fixed<11,4> ap_f;
//typedef ap_fixed<10,4> ap_f;
//typedef ap_fixed<9,4> ap_f;
//typedef ap_fixed<8,4> ap_f;
//typedef ap_fixed<7,4> ap_f;
//typedef ap_fixed<6,4> ap_f;
//typedef ap_fixed<5,4> ap_f;

void AF_classifier(int a0,int a1,int a2,int a3,int a4,int a5,int a6,int len,int& result)
{
#pragma HLS INTERFACE ap_ctrl_none port=return
//#pragma HLS INTERFACE s_axilite port=return bundle=sqrt
#pragma HLS INTERFACE s_axilite port = a0
#pragma HLS INTERFACE s_axilite port = a1
#pragma HLS INTERFACE s_axilite port = a2
#pragma HLS INTERFACE s_axilite port = a3
#pragma HLS INTERFACE s_axilite port = a4
#pragma HLS INTERFACE s_axilite port = a5
#pragma HLS INTERFACE s_axilite port = a6
#pragma HLS INTERFACE s_axilite port = result
#pragma HLS INTERFACE s_axilite port=len

//#pragma HLS INTERFACE s_axilite port = in
//#pragma HLS INTERFACE s_axilite port = out
	//*result = 2;
	result = 2;


	ap_f A[7];
	A[0]=(float)a0/4096;A[1]=(float)a1/4096;A[2]=(float)a2/4096;A[3]=(float)a3/4096;A[4]=(float)a4/4096;A[5]=(float)a5/4096;A[6]=(float)a6/4096;



	int int_para = 1;
	ap_f Hw[12][7] = {{-0.3086249828338623,0.4687294065952301,-0.25348642468452454,0.3766636550426483,0.327125608921051,-0.05448056012392044,0.006507154554128647},
	{0.3306097388267517,0.3004032075405121,0.01697966270148754,-0.2116008698940277,0.6492632627487183,0.16714966297149658,0.5600918531417847},
	{-0.42631739377975464,-0.3120669424533844,0.41763556003570557,0.3036823570728302,-0.33707699179649353,-0.06514544785022736,-0.34758999943733215},
	{-0.021220175549387932,0.3940752148628235,0.1976296305656433,-0.016038864850997925,0.10334654152393341,-0.01938123069703579,0.4691855013370514},
	{0.19354552030563354,0.24107907712459564,0.0348956398665905,0.18934999406337738,-0.008916149847209454,0.547035276889801,0.26825734972953796},
	{0.05236213654279709,-0.04468012601137161,-0.3025267720222473,-0.09016263484954834,0.1674298495054245,0.5294620990753174,0.8422064781188965},
	{0.44323521852493286,0.05522537603974342,0.26325342059135437,0.14639341831207275,0.12253932654857635,0.10408925265073776,0.1237637922167778},
	{-0.1046953946352005,-0.43563833832740784,0.21532005071640015,0.47049278020858765,0.29687416553497314,-0.11056876182556152,-0.3315504789352417},
	{-0.2596439719200134,0.056710079312324524,0.5700456500053406,0.3768693208694458,-0.1185757964849472,0.3963426649570465,0.0029323319904506207},
	{0.09935429692268372,0.2279055416584015,-0.2301040142774582,-0.03773489594459534,-0.0633787214756012,-0.02180919051170349,0.20181480050086975},
	{-0.10311982035636902,0.14865216612815857,-0.24439305067062378,-0.3725583255290985,-0.03151866793632507,0.18953660130500793,-0.2738568186759949},
	{-0.5134258270263672,-0.14462628960609436,-0.11752402037382126,0.08724299818277359,0.0892004668712616,-0.3757413923740387,0.04294687509536743}};


	ap_f Hb[12] = {-0.31452587246894836,-0.1632808893918991,0.08072137832641602,0.2911047041416168,0.321512907743454,0.0526992529630661,0.15350502729415894,0.4590603709220886,0.5587401986122131,-0.3101385533809662,-0.3047172725200653,0.4069610834121704};


	ap_f Hw2[16][12] = {{0.48681923747062683,-0.516932487487793,0.17341403663158417,0.2756018042564392,-0.21365152299404144,-0.4269386827945709,-0.04709992557764053,0.2420414239168167,0.33258017897605896,-0.2095779925584793,0.19696468114852905,0.3855840563774109},
	{0.2421310842037201,-0.009740402922034264,0.31912729144096375,0.02255476824939251,-0.3410860002040863,-0.8646047711372375,-0.21623750030994415,0.39000922441482544,0.3203708827495575,-0.16686615347862244,-0.22051212191581726,0.08531853556632996},
	{0.006350576877593994,-0.08974461257457733,0.03308224678039551,0.08419659733772278,-0.12009088695049286,-0.15785056352615356,0.16895589232444763,-0.04733395576477051,-0.21396827697753906,0.043647706508636475,0.19213774800300598,0.2838931679725647},
	{-0.9110461473464966,0.34307897090911865,-0.2705448865890503,0.026399224996566772,0.2596200108528137,0.41132837533950806,0.3370077311992645,0.09457793831825256,0.2056281566619873,-0.08567602932453156,0.28025197982788086,-0.09149825572967529},
	{0.2421015053987503,-0.03555409982800484,-0.29280123114585876,-0.21921512484550476,0.16496233642101288,0.8373450040817261,0.14849822223186493,-0.2562222182750702,0.13278961181640625,0.09018105268478394,0.18864205479621887,-0.057028550654649734},
	{-0.12883225083351135,-0.2830808460712433,0.009869114495813847,0.011700927279889584,-0.031697556376457214,-0.058869630098342896,-0.2540113031864166,-0.048377495259046555,-0.08963587880134583,-0.04979774355888367,0.1799944043159485,0.16335047781467438},
	{-0.5908598899841309,0.07147635519504547,0.0028058842290192842,0.4485715925693512,0.2248336523771286,0.4940953254699707,-0.08543012291193008,0.18398122489452362,0.4482470452785492,0.1488865315914154,0.18780457973480225,0.07652738690376282},
	{0.49746859073638916,-0.5095525979995728,0.3736506700515747,-0.06882721930742264,-0.11134866625070572,-0.8976814150810242,-0.1446542590856552,0.3880370855331421,0.3596605956554413,0.07580354809761047,-0.09752710163593292,0.07530868798494339},
	{-0.18381640315055847,0.4013443887233734,0.288806676864624,-0.061965830624103546,0.26171261072158813,0.5941486358642578,0.4255834221839905,0.4012981653213501,0.10786819458007812,-0.025036990642547607,0.20146828889846802,0.061019208282232285},
	{0.5096231698989868,-0.2998816967010498,0.1460888534784317,0.3023283779621124,-0.37295982241630554,-0.8369186520576477,-0.40775951743125916,0.15164490044116974,0.2716124653816223,0.23163968324661255,-0.18715566396713257,0.5102748870849609},
	{-0.5108585357666016,0.3363037109375,-0.28145068883895874,0.3133847415447235,0.09588419646024704,0.4825855791568756,0.2985677123069763,-0.1388721913099289,0.2918360233306885,-0.10956791043281555,-0.21836091578006744,-0.2136766016483307},
	{-0.03877192735671997,-0.041953012347221375,-0.04743519425392151,-0.2599680423736572,0.02906307578086853,-0.016253620386123657,-0.012895315885543823,-0.2662643492221832,-0.03291594982147217,0.16741842031478882,-0.26168161630630493,0.19702336192131042},
	{0.6643123626708984,-0.2976931631565094,-0.0008752503781579435,-0.013414233922958374,-0.0435018353164196,-0.5009368062019348,-0.48681315779685974,0.16551895439624786,0.3829457461833954,0.05091962218284607,-0.08123378455638885,0.1944650262594223},
	{0.10641205310821533,-0.4402899742126465,0.4228363335132599,0.13109169900417328,0.081915482878685,-0.055004481226205826,-0.11653120815753937,0.02723752334713936,0.4065379500389099,-0.043145641684532166,0.15957748889923096,-0.039924949407577515},
	{-0.003215563017874956,-0.07175440341234207,0.1636338084936142,-0.2908129096031189,-0.18188594281673431,-0.12459766864776611,-0.1601233035326004,0.055386122316122055,-0.0665210485458374,-0.09970143437385559,0.27760523557662964,0.14042823016643524},
	{-0.20695535838603973,-0.10818919539451599,-0.1393793672323227,0.07274457812309265,-0.2610926926136017,-0.045496389269828796,0.17573818564414978,0.2701607346534729,-0.10193251073360443,0.13425764441490173,-0.01782962679862976,-0.09223940968513489}};


	ap_f Hb2[16] = {0.1996506303548813,-0.20360338687896729,0.08207917213439941,-0.008280660957098007,-0.502301812171936,0.047854404896497726,0.3128104507923126,0.11640997976064682,0.43396300077438354,0.3208830952644348,-0.13336314260959625,-0.24140280485153198,0.16852782666683197,0.08518639206886292,-0.0160237867385149,0.08487442135810852};


	ap_f Hw3[12][16] = {{-0.08094993233680725,-0.026542752981185913,0.1955525279045105,-0.19783824682235718,0.06178945302963257,0.16834789514541626,-0.09854459762573242,-0.21264508366584778,0.053690940141677856,0.16403606534004211,-0.044733524322509766,-0.06730026006698608,-0.11463704705238342,-0.13315153121948242,-0.1466752290725708,0.07713639736175537},
	{0.48714199662208557,0.42779648303985596,-0.009969919919967651,-0.013439076021313667,0.9479657411575317,-0.13991717994213104,0.40636971592903137,0.21480433642864227,0.22625863552093506,0.3161117732524872,-0.20061811804771423,0.005421191453933716,0.20453493297100067,0.38802680373191833,-0.1077558770775795,0.012873530387878418},
	{-0.08781886100769043,-0.0853453204035759,-0.16499295830726624,-0.08543002605438232,-0.10907989740371704,-0.22568339109420776,-0.1397123485803604,0.06603939086198807,-0.250853955745697,-0.19675560295581818,0.001849911641329527,-0.11942774057388306,-0.11827628314495087,-0.22496072947978973,-0.018960226327180862,0.005341678857803345},
	{-0.37826842069625854,-0.2271774709224701,0.21017107367515564,0.14344020187854767,-1.095226764678955,0.24577626585960388,0.3319019675254822,-0.056041114032268524,0.16394813358783722,-0.06301232427358627,0.41225773096084595,-0.10383206605911255,-0.1911790519952774,-0.0372653603553772,-0.18581756949424744,0.23723560571670532},
	{0.09217052906751633,0.11345977336168289,-0.2262904942035675,-0.2337011694908142,0.023839125409722328,0.19876110553741455,-0.05752295255661011,-0.053613852709531784,-0.1919117271900177,-0.25778937339782715,0.2157505601644516,-0.18195950984954834,-0.22115616500377655,0.19543132185935974,0.13331861793994904,-0.029269903898239136},
	{-0.2490231841802597,-0.06632787734270096,-0.194370836019516,-0.18140536546707153,0.18546387553215027,-0.06075713783502579,0.031075220555067062,0.1971835047006607,-0.2252969741821289,0.045243315398693085,-0.09420722723007202,0.19302260875701904,-0.04451064020395279,0.09620583057403564,0.1882251799106598,-0.06930914521217346},
	{-0.07606436312198639,-0.2897259294986725,0.024806290864944458,0.29390227794647217,-0.9797865152359009,0.13228751718997955,0.2574293911457062,-0.287966251373291,0.3037300109863281,-0.22726333141326904,0.2543388903141022,0.04945015907287598,-0.16414016485214233,-0.11784802377223969,0.10273805260658264,0.24850806593894958},
	{-0.19666406512260437,-0.3623090982437134,0.01991632580757141,0.3313564360141754,-0.707037091255188,0.1010078564286232,0.4156310558319092,-0.29625049233436584,0.20493188500404358,-0.38781675696372986,0.44481414556503296,0.19105589389801025,-0.19933314621448517,-0.026011589914560318,-0.1653214544057846,0.12963896989822388},
	{-0.048346105962991714,-0.3826799988746643,0.23125585913658142,0.04512492194771767,-0.9556365013122559,-0.22792762517929077,0.14497113227844238,0.07815446704626083,0.20428797602653503,-0.3653254508972168,0.43817251920700073,-0.055286526679992676,-0.19203881919384003,-0.07662267237901688,-0.11928482353687286,-0.152065247297287},
	{0.21531829237937927,0.043620944023132324,-0.11272987723350525,-0.12928467988967896,0.20786747336387634,0.05804121494293213,-0.0515206940472126,-0.12194451689720154,0.21374881267547607,-0.24141758680343628,-0.1046530157327652,-0.17243024706840515,-0.20282523334026337,-0.09515276551246643,-0.19810044765472412,-0.15914016962051392},
	{0.029042840003967285,-0.023626714944839478,0.18071022629737854,0.182235449552536,0.23671209812164307,0.0959615409374237,-0.1538427770137787,-0.0058491528034210205,-0.19591844081878662,0.23317521810531616,-0.18915733695030212,0.22423216700553894,0.22773072123527527,-0.1601937711238861,-0.06524860858917236,-0.2117285132408142},
	{0.13451199233531952,-0.2050601691007614,0.19077494740486145,-0.1298486441373825,0.12046565115451813,0.20165112614631653,0.10337071865797043,-0.10139516741037369,-0.00033981952583417296,-0.2767895758152008,-0.173849418759346,0.20249181985855103,-0.055338744074106216,0.08775700628757477,-0.14885158836841583,-0.10957887768745422}};


	ap_f Hb3[12] = {-0.2018136978149414,0.09417974203824997,0.10060550272464752,-0.04069673642516136,-0.11826139688491821,-0.17395374178886414,0.13878779113292694,0.25063836574554443,0.125983327627182,-0.012327310629189014,-0.2399451732635498,-0.30349001288414};


	ap_f Ow[2][12] = {{0.2156587839126587,0.28266963362693787,0.07720227539539337,-0.35883718729019165,-0.09033925086259842,-0.2465081363916397,-0.1600363850593567,-0.3557732105255127,-0.32780951261520386,0.03130901977419853,-0.1773696094751358,-0.326698899269104},
	{-0.06999729573726654,-0.42731356620788574,-0.2584422826766968,0.04755442962050438,-0.23693454265594482,-0.15245835483074188,0.3497058153152466,0.20324517786502838,0.14824795722961426,-0.1550302803516388,0.25585901737213135,0.18503111600875854}};


	ap_f Ob[2] = {0.4250834584236145,0.056264638900756836};




	ap_f B[16],C[16],D[12],E[8],F[2];

	for (int i = 0; i < 12; i++) {
		B[i] = 0;
		for (int j = 0; j < 7; j++) {
			B[i] = B[i] + A[j] * Hw[i][j];
		}
		B[i] = B[i]/int_para + Hb[i] ;
		if(B[i] < 0){B[i] = 0;}
	}

	for (int i = 0; i < 16; i++) {
		C[i] = 0;
		for (int j = 0; j < 12; j++) {
			C[i] = C[i] + B[j] * Hw2[i][j];
		}
		C[i] = C[i]/int_para + Hb2[i] ;
		if(C[i] < 0){C[i] = 0;}
	}
	for (int i = 0; i < 12; i++) {
		D[i] = 0;
		for (int j = 0; j < 16; j++) {
			D[i] = D[i] + C[j] * Hw3[i][j];
		}
		D[i] = D[i]/int_para + Hb3[i] ;
		if(D[i] < 0){D[i] = 0;}
	}

		for (int i = 0; i < 2; i++) {
			F[i] = 0;
			for (int j = 0; j < 12; j++) {
				F[i] = F[i] + D[j] * Ow[i][j];
			}
			F[i] = F[i]/int_para + Ob[i] ;
		}



	if (F[0] > F[1])
		{result = 0 ;}

	else
		{result = 1;}
	if (A[0] == A[2] == A[6]){
		result = 2;
	}
}
